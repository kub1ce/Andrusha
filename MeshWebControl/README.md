# Mesh Web Control
Управление esp32 используя Mesh-сеть.

## Что делать
1. Билдим и загружаем прошивки:
   -  `main.cpp` из **этой директории** на одну esp32
   -  `WebControl/main.cpp` (https://github.com/kub1ce/Andrusha/tree/main/WebControl) на 2ю плату
2. Подключаемся к WiFi esp. Название можно поменять в макроссе `ssid`. По умолчанию название wifi будет «**`R2-D2`**»
3. Открываем в браузере http://192.168.222.11/
    - При переходе на страницу http://192.168.222.11/on светодиод на 2й плате включится
    - При переходе на страницу http://192.168.222.11/off светодиод на 2й плате выключится

## Как это работает
Плата создаёт свою точку доступа WiFi сети, где на определённом статичном ip находится сайт. При переходе на страницы `/on` и `/off` на плату поступают GET запросы, которые вызывают определённые триггеры (`handleOn` и `handleOff`). Плата подключается к WiFi 2й esp (<i>название wifi указывается в макроссе `wifiToConnect`</i>) и точно также передает команду на включение/отключение светодиода GET запросом. После возвращает пользователю ответ с кодом 200.